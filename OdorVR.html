<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Odor VR</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!--  Font Awesome-->
    <script src="https://kit.fontawesome.com/37894f6070.js" crossorigin="anonymous"></script>


    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</head>

<body>

<!-- ======= Mobile nav toggle button ======= -->
<!--<i class="bi bi-list mobile-nav-toggle d-xl-none"></i>-->

<!-- ======= Header ======= -->
<header id="header">
    <div class="d-flex flex-column">

        <div class="profile">
            <img src="assets/img/profile-img.jpg" alt="" class="img-fluid rounded-circle">
            <h1 class="text-light"><a href="index.html">Yinan (Tom) Xuan</a></h1>
            <div class="social-links mt-3 text-center">
                <a href="https://www.semanticscholar.org/author/Yinan-Xuan/8767362?sort=pub-date"
                   target="_blank" class="icon-link">
                    <i class="fas fa-graduation-cap"></i>
                </a>
                <a href="https://twitter.com/yinan_xuan" target="_blank" class="icon-link">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.linkedin.com/in/yinanxuan/" target="_blank" class="icon-link">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="#" id="email-link1" class="icon-link">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
        </div>

        <nav id="navbar" class="nav-menu navbar">
            <ul>
                <li><a href="index.html#about" class="nav-link scrollto "><i class="bx bx-user"></i> <span>About</span></a>
                </li>
                <li><a href="YinanXuanCV.pdf" target="_blank" class="nav-link scrollto"><i class="bx bx-file-blank"></i>
                    <span>Resume</span></a>
                </li>
                <li><a href="index.html#services" class="nav-link scrollto"><i class="bx bx-book-content"></i>
                    <span>Research</span></a></li>
                <li><a href="https://www.semanticscholar.org/author/Yinan-Xuan/8767362?sort=pub-date" target="_blank"
                       class="nav-link scrollto"><i class="bx bx-server"></i> <span>Publications</span></a>
                </li>
            </ul>
        </nav><!-- .nav-menu -->
    </div>
</header><!-- End Header -->
<header id="header1">
    <div class="top-header">
        <p class="top-header-name">Yinan (Tom) Xuan &nbsp;宣一楠</p>


        <nav id="navbar-top" class="nav-menu navbar">
            <div class="header-links-container">
                <ul class="navbar-top-list">
                    <li><a href="index.html#about" class="nav-link scrollto"><i class="bx bx-user"></i>
                        <span>About</span></a></li>
                    <li><a href="YinanXuanCV.pdf" target="_blank" class="nav-link"><i class="bx bx-file-blank"></i>
                        <span>Resume</span></a>
                    </li>
                    <li><a href="index.html#services" class="nav-link scrollto"><i class="bx bx-book-content"></i>
                        <span>Research Projects</span></a></li>
                    <li><a href="https://www.semanticscholar.org/author/Yinan-Xuan/8767362?sort=pub-date"
                           target="_blank" class="nav-link scrollto"><i class="bx bx-server"></i>
                        <span>Publications</span></a>
                    </li>
                </ul>


                <ul class="icon-links-header1">
                    <li>
                        <a href="https://www.semanticscholar.org/author/Yinan-Xuan/8767362?sort=pub-date"
                           target="_blank" class="icon-link">
                            <i class="fas fa-graduation-cap"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/yinan_xuan" target="_blank" class="icon-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/in/yinanxuan/" target="_blank" class="icon-link">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="email-link3" class="icon-link">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </nav><!-- .nav-menu -->
    </div>
</header><!-- End Header -->

<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
        <div class="container">

            <div class="d-flex justify-content-between align-items-center">
                <h2>Odor VR</h2>
                <ol>
                    <li><a href="index.html">Home</a></li>
                    <li>Odor VR</li>
                </ol>
            </div>

        </div>
    </section><!-- End Breadcrumbs -->

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
        <div class="container">
            <div class="portfolio-info">
                <p>
                    This project is an olfactory VR system, designed to measure odor-guided behaviors in <a
                        href="https://en.wikipedia.org/wiki/Drosophila_melanogaster" class="linkto" target="blank">Drosophila
                    melanogaster (fruit fly)</a>. The system is composed of three parts: a spherical treadmill, an
                    olfactometer (for controlled odor delivery), and a feedback system (to adjust odor delivery based on
                    the fly's position within the virtual world).
                </p>
                <p class="portfolio-info-description-last-p"> The system is specifically designed to be compatible with
                    two-photon and three-photon imaging, enabling simultaneous recording of neuronal activity in the
                    fruit fly's brain and its behavioral responses.
                </p>

                <div class="skills-date-container">
                    <p>Related Skills:</p>
                    <div class="skills-container">
                        <div class="skill-group">
                            <ul>
                                <li class="expandable-skills" data-toggle="collapse"
                                    data-target="#hardware-related-skills">
                                    <i class="fas fa-caret-right"></i>
                                    <strong>Hardware</strong>
                                </li>
                            </ul>
                            <div id="hardware-related-skills" class="collapse show">
                                <ul>
                                    <li>Compressed Gas Cylinder Handling</li>
                                    <li>PID Tuning and Control for Mass Flow Controllers</li>
                                    <li>Custom Apparatus Assembly and Setup</li>
                                </ul>
                            </div>
                        </div>
                        <div class="skill-group">
                            <ul>
                                <li class="expandable-skills" data-toggle="collapse"
                                    data-target="#software-related-skills">
                                    <i class="fas fa-caret-right"></i>
                                    <strong>Software</strong>
                                </li>
                            </ul>
                            <div id="software-related-skills" class="collapse show">
                                <ul>
                                    <li>Python</li>
                                    <li>PySerial</li>
                                    <li>MATLAB</li>
                                </ul>
                            </div>
                        </div>

                    </div>
                    <!--                    <p class="portfolio-date">Date: April, 2019</p>-->
                </div>


            </div>

            <div class="row gy-4 portfolio-detail-div">

                <div class="col-lg-4">
                    <img src="assets/img/portfolio/odorVR/Setup.jpg"
                         class="portfolio-detail-image img-fluid d-block mx-auto"/>
                    <p class="text-center">Setup Overview</p>

                    <img src="assets/img/portfolio/odorVR/tethered_fly.jpg"
                         class="portfolio-detail-image img-fluid d-block mx-auto"/>
                    <p class="text-center">Close-up of Tethered Fly (Fly will be lowered during the experiment)</p>

                </div>

                <div class="col-lg-8">

                    <div class="portfolio-description">

                        <h4>Spherical Treadmill</h4>
                        <p>
                            Initially invented by <a href="https://link.springer.com/article/10.1007/BF00360648"
                                                     class="linkto">Buchner in 1976</a>, the ball treadmill tracking
                            system has since evolved into a relatively mature technique. In this system, an animal is
                            tethered and placed on top of a floating sphere, which is maintained aloft by a gentle air
                            stream from below.
                        </p>
                        <p class="ppp">
                            As the animal walks, the sphere rotates, simulating the effect of the animal moving on a
                            two-dimensional plane. The walking trajectory of the animal is inferred from the rotation of
                            the sphere.
                        </p>
                        <p class="ppp">
                            Video recording is employed to gauge the sphere's rotation and the movement of the tethered
                            fly. Since 1976, methods have advanced, and this project utilizes <a
                                href="https://github.com/rjdmoore/fictrac" class="linkto">FicTrac</a>, an open-source
                            software that derives the animal's walking trajectory from video information captured by a
                            single camera.
                        </p>
                        <hr/>
                        <h4>Olfactometer</h4>
                        <p>
                            Odors are diluted before being delivered to the animal. Two mass flow controllers (MFC) are
                            used to manage the odor concentration. One controller adjusts the flow rate of the air
                            stream carrying the odor, while the other regulates the flow rate of the dilution air
                            stream. These two streams are combined in a mixing chamber before being delivered to the
                            animal. The schematic diagram is shown below:
                        </p>
                    </div>
                </div>

            </div>
            <hr/>

            <img src="assets/img/portfolio/odorVR/DilutionFlow.JPG"
                 class="portfolio-detail-image img-fluid d-block mx-auto"/>
            <hr/>
            <div class="row gy-4 portfolio-detail-div">

                <div class="col-lg-4">
                    <img src="assets/img/portfolio/odorVR/response_time.jpg"
                         class="portfolio-detail-image img-fluid d-block mx-auto"/>
                    <p class="text-center">Response Time: X-axis represents time since the command was sent (second), Y-axis
                        represents flow rate (target is 50)</p>

                    <img src="assets/img/portfolio/odorVR/pulse.jpg"
                         class="portfolio-detail-image img-fluid d-block mx-auto"/>
                    <p class="text-center">PID Readout (Pulse Mode)</p>

                </div>

                <div class="col-lg-8">

                    <div class="portfolio-description">

                        <p>
                            Python code has been developed for communicating with the MFCs via serial ports and is
                            integrated with closed-loop control, as described in the following section. The code takes
                            the final total flow rate and target dilution factor as input, determining the optimal
                            combination of dilution MFC flow rate and odor MFC flow rate. These flow rates are then sent
                            as updated setpoints to both MFCs as commands.
                        </p>
                        <p class="ppp">
                            Alicat MC Series MFCs are utilized for their accuracy, rapid response time, and
                            compatibility with serial communication. After adjusting the PD parameters, the two
                            controllers achieve a response time of less than 100 milliseconds when the input is
                            compressed air at 30 psi.
                        </p>
                        <p class="ppp">
                            The odor air stream and dilution air stream merge at an odor mixing chamber capable of
                            accommodating up to eight odor inputs. A metal grid is placed at the output of the mixing
                            chamber to enhance turbulence for more efficient mixing. The output port's diameter measures
                            13.7mm. When the final output flow rate is set to 500 Standard Cubic Centimeters(SCCM), the
                            air stream velocity exiting the port is 5.6 cm/s.
                        </p>
                        <p class="ppp">
                            A photoionization detector (PID) is employed to assess the olfactometer's performance. While
                            the odor can be effectively delivered in pulses, concentration fluctuations occur when the
                            odor is continuously disseminated. This issue may result from odor depletion within the odor
                            bottle.
                        </p>
                    </div>
                </div>

            </div>


        </div>
    </section><!-- End Portfolio Details Section -->

</main><!-- End #main -->

<!-- ======= Footer ======= -->
<footer id="footer">
    <div class="container">

    </div>
</footer><!-- End  Footer -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
        class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/typed.js/typed.min.js"></script>
<script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>

<script>
    document.querySelector('.expandable-skills').addEventListener('click', function () {
        this.classList.toggle('expanded');
        var relatedSkills = document.querySelector('#related-skills');
        relatedSkills.classList.toggle('collapse');
    });
</script>
<script>
    // Function to set the email address as the href attribute
    function setEmailLink() {
        const user = 'yxuan';
        const domain = 'ucsd.edu';
        const email = user + '@' + domain;

        document.getElementById('email-link1').href = 'mailto:' + email;
        document.getElementById('email-link2').href = 'mailto:' + email;
        document.getElementById('email-link3').href = 'mailto:' + email;
    }

    // Call the function to set the email address as the href attribute
    setEmailLink();
</script>
<!--Jump to Specific Section in Home Page-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log("Script is running");
        const navLinks = document.querySelectorAll(".nav-link.scrollto");

        navLinks.forEach((link) => {
            link.addEventListener("click", (event) => {
                const screenWidth = window.innerWidth;
                console.log("Screen width:", screenWidth);

                if (screenWidth < 1199) {
                    event.preventDefault();
                    const targetId = event.target.closest("a").getAttribute("href");
                    console.log("Target ID:", targetId);

                    // Extract the correct ID from the Target ID
                    const extractedId = targetId.split('#')[1];
                    console.log("Extracted ID:", extractedId);

                    const target = document.querySelector('#' + extractedId);
                    console.log("Target:", target);
                    const header1 = document.querySelector("#header1");
                    const header1Height = header1.offsetHeight;
                    console.log("Header1 height:", header1Height);

                    if (target) {
                        const scrollPosition = target.offsetTop - header1Height;
                        console.log("Scroll position:", scrollPosition);
                        window.scrollTo({
                            top: scrollPosition,
                            behavior: "smooth",
                        });
                    }

                    const targetPage = targetId.split('#')[0];
                    const currentPage = window.location.pathname.split('/').pop();

                    // Check if the link is an external link
                    const isExternal = targetPage !== currentPage;

                    if (isExternal) {
                        // If it's an external link, navigate to the target page first
                        // Store the target section ID in the session storage
                        sessionStorage.setItem('scrollTarget', extractedId);
                        window.location.href = targetPage;
                    }
                }


            });
        });
    });
</script>
<!--Fix Header Blocks Main Content-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const screenWidth = window.innerWidth;

        if (screenWidth < 1199) {
            const header1 = document.querySelector("#header1");
            const main = document.querySelector("#main");

            const header1Height = header1.offsetHeight;
            main.style.marginTop = header1Height + "px";
        }
    });
</script>
<script>
    function updateMarginTop() {
        const screenWidth = window.innerWidth;

        if (screenWidth < 1199) {
            const header1 = document.querySelector("#header1");
            const main = document.querySelector("#main");

            const header1Height = header1.offsetHeight;
            main.style.marginTop = header1Height + "px";
        } else {
            const main = document.querySelector("#main");
            main.style.marginTop = "0px";
        }
    }

    document.addEventListener("DOMContentLoaded", function () {
        updateMarginTop();
    });

    window.addEventListener("resize", function () {
        updateMarginTop();
    });
</script>
</body>

</html>